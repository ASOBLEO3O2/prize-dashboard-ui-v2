/* css/20_midDash.css */
/* 中段：2×2（B案＝少し横長 5:4）。dashSlot構造に合わせる。 */

:root{
  --midGap: 16px;
  --midMinW: 480px;      /* 2列維持の最低幅（必要なら後で調整） */
  --midRatioPC: 5 / 4;   /* ✅ PC：少し横長 */
  --midRatioSP: 4 / 3;   /* ✅ スマホ：少し縦寄り */
}

.midKpiWrap{
  border:1px solid var(--border);
  background:rgba(18,26,34,.55);
  border-radius:var(--r);
  box-shadow:var(--shadow);
  overflow:hidden;

  display:flex;
  flex-direction:column;
}

.midTop{
  padding:14px;
  border-bottom:1px solid var(--border);
  display:flex;
}

/* 2×2 の器 */
#midDash{
  width:100%;
  display:grid;
  gap:var(--midGap);
  grid-template-columns:repeat(2, minmax(var(--midMinW), 1fr));
  align-items:stretch;
}

/* ✅ PC：セル（dashSlot）を 5:4 に固定 */
#midDash > .dashSlot{
  min-width:0;
  aspect-ratio: var(--midRatioPC);
  height:auto;
  display:flex; /* 中のカードを100%で埋める */
}

/* ✅ セル内カードを全面に（上書き負け防止） */
#midDash > .dashSlot > .midPanel{
  width:100% !important;
  height:100% !important;
  min-width:0;
  min-height:0;
}

/* スマホ：縦1列（4枚） */
@media (max-width:768px){
  #midDash{
    grid-template-columns:1fr;
  }
  #midDash > .dashSlot{
    aspect-ratio: var(--midRatioSP);
  }
}

/* Widget③(mid) “カード固定のまま” 内側だけ整える */
#midDash .chartBody{
  display:flex;
  flex-direction:column;
  min-height:0;              /* これが無いと切れやすい */
}

#midDash .chartBody .w3AxisHint{
  flex:0 0 auto;             /* 説明は固定高さ */
  margin:0 0 6px 0;
}

#midDash .chartBody canvas{
  flex:1 1 auto;             /* 残り全部をcanvasに渡す */
  min-height:0;              /* これが無いと下が切れることがある */
  width:100%;
  height:100%;
  display:block;
}
